import 'dart:io';

import 'package:flutter/foundation.dart';

void main() {
  // Prompt the user to choose between WebSocket and Socket.IO
  debugPrint('Select the setup you want to generate:');
  debugPrint('1. WebSocket');
  debugPrint('2. Socket.IO');
  stdout.write('Enter your choice (1 or 2): ');
  final choice = stdin.readLineSync();

  if (choice == '1' || choice == '2') {
    // Use 'socketconfig' instead of 'wsconfig'
    final directory = Directory('lib/socketconfig');
    final assetsDirectory = Directory('assets');

    if (!directory.existsSync()) {
      directory.createSync(recursive: true);
      debugPrint('Created socketconfig directory.');
    }

    if (!assetsDirectory.existsSync()) {
      assetsDirectory.createSync(recursive: true);
      debugPrint('Created assets directory.');
    }

    // JSON content for connected.json
    final connectedJsonContent = '''
{"v":"5.1.7","fr":30,"ip":25,"op":69,"w":600,"h":600,"nm":"success","ddd":0,"assets":[{"id":"comp_0","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Layer 4 Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[115.68,468.673,0],"ix":2},"a":{"a":0,"k":[26.859,26.86,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-20.859,20.86],[20.859,-20.86]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0.788000009574,0.522000002394,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":12,"ix":5},"lc":1,"lj":1,"ml":10,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[26.859,26.86],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0_1_0p333_0"],"t":4,"s":[100],"e":[0]},{"t":22}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":28,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Layer 5 Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[467.82,115.827,0],"ix":2},"a":{"a":0,"k":[26.86,26.859,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-20.86,20.859],[20.86,-20.859]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0.788000009574,0.522000002394,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":12,"ix":5},"lc":1,"lj":1,"ml":10,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[26.86,26.859],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0_1_0p333_0"],"t":4,"s":[0],"e":[100]},{"t":22}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":28,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Layer 6 Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[115.327,116.18,0],"ix":2},"a":{"a":0,"k":[26.859,26.859,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-20.859,-20.86],[20.859,20.86]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0.788000009574,0.522000002394,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":12,"ix":5},"lc":1,"lj":1,"ml":10,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[26.859,26.86],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0_1_0p333_0"],"t":4,"s":[100],"e":[0]},{"t":22}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":28,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Layer 7 Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[468.174,468.32,0],"ix":2},"a":{"a":0,"k":[26.86,26.86,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-20.86,-20.86],[20.86,20.86]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0.788000009574,0.522000002394,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":12,"ix":5},"lc":1,"lj":1,"ml":10,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[26.86,26.86],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0_1_0p333_0"],"t":4,"s":[0],"e":[100]},{"t":22}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":28,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Layer 8 Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[42.5,292.5,0],"ix":2},"a":{"a":0,"k":[35.5,6,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[6,6],[65,6]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0.788000009574,0.522000002394,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":12,"ix":5},"lc":1,"lj":1,"ml":10,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0_1_0p333_0"],"t":4,"s":[100],"e":[0]},{"t":22}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":28,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"Layer 9 Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[541,292,0],"ix":2},"a":{"a":0,"k":[35.5,6,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[6,6],[65,6]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0.788000009574,0.522000002394,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":12,"ix":5},"lc":1,"lj":1,"ml":10,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0_1_0p333_0"],"t":4,"s":[0],"e":[100]},{"t":22}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":28,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"Layer 10 Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[292,541.5,0],"ix":2},"a":{"a":0,"k":[6,35.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[6,65],[6,6]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0.788000009574,0.522000002394,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":12,"ix":5},"lc":1,"lj":1,"ml":10,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0_1_0p333_0"],"t":4,"s":[100],"e":[0]},{"t":22}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":28,"st":0,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"Layer 11 Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[291.5,43,0],"ix":2},"a":{"a":0,"k":[6,35.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[6,65],[6,6]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0.788000009574,0.522000002394,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":12,"ix":5},"lc":1,"lj":1,"ml":10,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0_1_0p333_0"],"t":4,"s":[0],"e":[100]},{"t":22}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":28,"st":0,"bm":0}]}],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Shape Layer 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[300,300,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[367.859,367.859],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0_1_0p333_0"],"t":25,"s":[0],"e":[0]},{"i":{"x":[0.089],"y":[1]},"o":{"x":[0.655],"y":[0]},"n":["0p089_1_0p655_0"],"t":36,"s":[0],"e":[100]},{"t":50}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.333],"y":[1]},"o":{"x":[0.829],"y":[0]},"n":["0p333_1_0p829_0"],"t":25,"s":[0],"e":[100]},{"t":39}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.893382352941,0.893382352941,0.893382352941,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":1,"lj":1,"ml":4,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[1.93,-10.07],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":4,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":25,"op":50,"st":25,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[300,300,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[367.859,367.859],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0_1_0p333_0"],"t":0,"s":[0],"e":[0]},{"i":{"x":[0.089],"y":[1]},"o":{"x":[0.655],"y":[0]},"n":["0p089_1_0p655_0"],"t":11,"s":[0],"e":[100]},{"t":25}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.333],"y":[1]},"o":{"x":[0.829],"y":[0]},"n":["0p333_1_0p829_0"],"t":0,"s":[0],"e":[100]},{"t":14}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.893382352941,0.893382352941,0.893382352941,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":1,"lj":1,"ml":4,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[1.93,-10.07],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":4,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":25,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":0,"nm":"Pre-comp 1","refId":"comp_0","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":54,"s":[0],"e":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":56,"s":[100],"e":[100]},{"t":62}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[300,300,0],"ix":2},"a":{"a":0,"k":[300,300,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"n":["0p833_0p833_0p167_0p167","0p833_0p833_0p167_0p167","0p833_0p833_0p167_0p167"],"t":54,"s":[86,86,100],"e":[94,94,100]},{"t":62}],"ix":6}},"ao":0,"w":600,"h":600,"ip":54,"op":354,"st":54,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Layer 2 Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[300,300,0],"ix":2},"a":{"a":0,"k":[137.378,109.309,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-84.878,0.669],[-28.738,56.809],[84.878,-56.809]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":21,"ix":5},"lc":1,"lj":1,"ml":10,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[137.378,109.308],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.185],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p185_1_0p333_0"],"t":59,"s":[0],"e":[6]},{"i":{"x":[0.306],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p306_1_0p333_0"],"t":62,"s":[6],"e":[0]},{"t":66}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.35],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p35_1_0p333_0"],"t":54,"s":[0],"e":[100]},{"i":{"x":[0.032],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p032_1_0p333_0"],"t":62,"s":[100],"e":[94]},{"t":66}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":54,"op":354,"st":54,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Layer 1 Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[299.988,299.91,0],"ix":2},"a":{"a":0,"k":[190.878,189.014,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.046,0.046,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"n":["0p046_1_0p333_0","0p046_1_0p333_0","0p667_1_0p333_0"],"t":50,"s":[0,0,100],"e":[116,116,100]},{"i":{"x":[0.019,0.019,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0.032,0.032,0]},"n":["0p019_1_0p333_0p032","0p019_1_0p333_0p032","0p667_1_0p333_0"],"t":61,"s":[116,116,100],"e":[100,100,100]},{"t":67}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-4.067,-3.573],[0,0],[-2.665,-0.588],[0,0],[-1.937,-5.043],[0,0],[-2.087,-1.753],[0,0],[0.635,-5.357],[0,0],[-1.033,-2.517],[0,0],[3.063,-4.444],[0,0],[0.259,-2.704],[0,0],[4.789,-2.513],[0,0],[1.492,-2.273],[0,0],[5.418,-0.007],[0,0],[2.383,-1.32],[0,0],[4.806,2.501],[0,0],[2.727,-0.064],[0,0],[3.093,4.437],[0,0],[2.448,1.205],[0,0],[0.67,5.356],[0,0],[1.607,2.198],[0,0],[-1.904,5.047],[0,0],[0.399,2.689],[0,0],[-4.043,3.583],[0,0],[-0.901,2.564],[0,0],[-5.257,1.298],[0,0],[-1.995,1.85],[0,0],[-5.265,-1.284],[0,0],[-2.632,0.713],[0,0]],"o":[[0,0],[2.049,1.8],[0,0],[5.292,1.166],[0,0],[0.976,2.539],[0,0],[4.146,3.481],[0,0],[-0.32,2.698],[0,0],[2.05,4.998],[0,0],[-1.542,2.239],[0,0],[-0.514,5.372],[0,0],[-2.412,1.266],[0,0],[-2.961,4.512],[0,0],[-2.728,0.003],[0,0],[-4.73,2.62],[0,0],[-2.42,-1.26],[0,0],[-5.416,0.129],[0,0],[-1.557,-2.233],[0,0],[-4.861,-2.393],[0,0],[-0.338,-2.697],[0,0],[-3.192,-4.367],[0,0],[0.959,-2.542],[0,0],[-0.792,-5.339],[0,0],[2.036,-1.805],[0,0],[1.789,-5.09],[0,0],[2.647,-0.653],[0,0],[3.961,-3.674],[0,0],[2.651,0.646],[0,0],[5.226,-1.416]],"v":[[49.728,-183.893],[75.948,-160.861],[83.134,-157.221],[117.251,-149.704],[128.834,-139.758],[141.329,-107.249],[146,-100.704],[172.734,-78.264],[178.36,-64.104],[174.265,-29.568],[175.352,-21.617],[188.578,10.606],[186.957,25.734],[167.211,54.389],[164.465,61.924],[161.152,96.546],[152.657,109.178],[121.785,125.385],[115.833,130.78],[96.742,159.871],[83.317,167.112],[48.39,167.159],[40.598,169.176],[10.101,186.072],[-5.177,186.263],[-36.157,170.138],[-44.005,168.317],[-78.921,169.146],[-92.553,162.244],[-112.489,133.642],[-118.596,128.399],[-149.931,112.972],[-158.793,100.558],[-163.119,66.033],[-166.084,58.567],[-186.661,30.418],[-188.724,15.336],[-176.447,-17.206],[-175.593,-25.182],[-180.697,-59.604],[-175.488,-73.898],[-149.422,-97.001],[-144.943,-103.66],[-133.405,-136.47],[-122.117,-146.703],[-88.233,-155.074],[-81.156,-158.891],[-55.62,-182.572],[-40.839,-186.4],[-6.899,-178.12],[1.156,-178.22],[34.84,-187.349]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0.788000009574,0.522000002394,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[190.878,189.015],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":50,"op":350,"st":50,"bm":0}],"markers":[]}

       ''';
    final connectingJsonContent = '''
     {"v":"5.9.4","fr":24,"ip":0,"op":48,"w":206,"h":124,"nm":"Main","ddd":0,"assets":[{"id":"comp_0","nm":"Main_2","fr":24,"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Layer 7/assets.ai","cl":"ai","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[285.775,114.252,0],"ix":2,"l":2},"a":{"a":0,"k":[34.275,31.752,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.118,-0.023],[-1.586,0.451],[1.08,-0.306],[1.502,0.031]],"o":[[1.649,0.035],[1.074,-0.306],[-1.445,0.411],[-1.118,-0.024]],"v":[[-2.408,1.286],[2.452,0.66],[1.99,-1.016],[-2.408,-0.45]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[54.124,47.335],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[1.114,-0.106],[5.236,0.03],[-1.119,-0.005],[-5.212,0.498]],"o":[[-5.212,0.497],[-1.118,-0.007],[5.236,0.031],[1.103,-0.105]],"v":[[7.835,-1.182],[-7.83,-0.479],[-7.83,1.257],[7.835,0.554]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[50.26,52.609],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[7.391,0.339],[-1.478,-2.711],[-3.449,2.033]],"o":[[-4.571,-0.209],[0.72,1.321],[3.448,-2.034]],"v":[[-0.821,-5.573],[-5.092,2.054],[2.463,3.749]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[11.71,43.385],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[7.391,0.339],[-1.478,-2.711],[-3.449,2.034]],"o":[[-4.57,-0.21],[0.72,1.321],[3.449,-2.034]],"v":[[-0.821,-5.572],[-5.092,2.053],[2.463,3.748]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[11.57,21.473],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.868,-2.397],[-0.217,-5.193],[-6.288,-0.399],[-0.217,10.188],[0.772,10.001],[10.002,-0.456]],"o":[[-0.48,1.326],[0.217,5.193],[6.288,0.4],[0.217,-10.187],[-0.578,-7.493],[-8.295,0.378]],"v":[[-9,-25.979],[-9,14.37],[-4.013,29.951],[10.085,22.04],[9.313,-18.522],[-0.11,-31.772]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.231000010173,0.694000004787,0.862999949736,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[10.551,32.477],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[4.521,0],[0,5.742],[-0.718,0.073],[-3.181,-0.478],[-0.233,-4.306],[0.389,-5.104],[4.895,-0.797],[6.08,0]],"o":[[-1.964,0],[0,-6.06],[12.593,-1.276],[3.181,0.479],[0.233,4.307],[-0.388,5.104],[-4.896,0.798],[-6.458,0]],"v":[[-22.124,26.852],[-23.092,-6.327],[-22.77,-25.786],[15.477,-26.743],[23.403,-19.087],[23.699,17.81],[17.483,26.423],[-5.979,26.533]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.497999991623,0.74900004069,0.898000021542,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[37.697,31.533],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":2,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":48,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Layer 4/assets.ai","cl":"ai","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[208.547,109.796,0],"to":[3.833,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":6,"s":[231.547,109.796,0],"to":[0,0,0],"ti":[3.833,0,0]},{"i":{"x":0.667,"y":0.667},"o":{"x":0.167,"y":0.167},"t":11,"s":[208.547,109.796,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":0.667},"o":{"x":0.167,"y":0.167},"t":19,"s":[208.547,109.796,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":26,"s":[208.547,109.796,0],"to":[3.833,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":32,"s":[231.547,109.796,0],"to":[0,0,0],"ti":[3.833,0,0]},{"i":{"x":0.667,"y":0.667},"o":{"x":0.167,"y":0.167},"t":37,"s":[208.547,109.796,0],"to":[0,0,0],"ti":[0,0,0]},{"t":45,"s":[208.547,109.796,0]}],"ix":2,"l":2},"a":{"a":0,"k":[88.047,78.796,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[1.12,0],[0,0],[-1.12,0],[0,0]],"o":[[0,0],[-1.118,0],[0,0],[1.118,0]],"v":[[4.342,0.868],[-4.342,0.868],[-4.342,-0.868],[4.342,-0.868]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[23.119,58.434],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[1.095,0.193],[10.592,-1.204],[-1.099,0.125],[-10.638,-1.88]],"o":[[-10.503,-1.856],[-1.109,0.126],[10.739,-1.221],[1.099,0.195]],"v":[[15.558,1.858],[-16.01,0.907],[-16.01,-0.83],[16.02,0.183]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[33.616,54.818],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[1.12,0],[0,0],[-1.12,0],[0,0]],"o":[[0,0],[-1.118,0],[0,0],[1.118,0]],"v":[[3.184,0.868],[-3.184,0.868],[-3.184,-0.868],[3.184,-0.868]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[29.487,103.591],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[1.08,-0.292],[7.39,1.109],[-1.095,-0.165],[-6.897,1.866]],"o":[[-7.212,1.951],[-1.101,-0.166],[7.065,1.059],[1.081,-0.292]],"v":[[10.933,-0.188],[-10.911,1.046],[-10.449,-0.628],[10.471,-1.863]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[34.034,107.765],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.378,5.747],[-0.657,4.288],[4.901,0.848],[3.802,-0.579],[0.279,-5.211],[-0.465,-6.176],[-5.851,-0.964],[-7.245,0.579]],"o":[[0.378,-5.748],[0.657,-4.288],[-8.36,-1.448],[-3.803,0.579],[-0.278,5.21],[0.464,6.174],[5.852,0.965],[5.094,-0.408]],"v":[[26.98,25.329],[26.98,-23.013],[18.899,-31.697],[-17.884,-34.013],[-27.359,-24.75],[-26.801,22.724],[-19.371,33.144],[14.44,34.013]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.497999991623,0.74900004069,0.898000021542,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[37.245,82.35],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.004,-2.196],[0.251,-4.757],[7.278,-0.365],[0.251,9.333],[-0.25,5.491],[-9.536,-0.915]],"o":[[0.556,1.215],[-0.251,4.758],[-7.278,0.366],[-0.251,-9.333],[0.251,-5.489],[9.537,0.915]],"v":[[10.791,-23.607],[10.791,13.359],[5.019,27.632],[-12.046,20.495],[-10.792,-17.02],[0.501,-28.913]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.231000010173,0.694000004787,0.862999949736,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[70.585,85.027],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":2,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,3.057],[0,0],[-3.057,0],[0,0],[0,-3.057],[6.175,0],[0,0]],"o":[[0,0],[0,-3.057],[0,0],[6.754,-0.192],[0.212,3.182],[0,0],[-5.017,-0.771]],"v":[[-17.171,0.002],[-17.171,0.002],[-12.447,-5.114],[7.044,-5.308],[17.059,0.002],[8.781,5.5],[-12.255,5.113]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.097999999102,0.097999999102,0.097999999102,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[86.802,95.39],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 7","np":2,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,3.057],[0,0],[-3.057,0],[0,0],[0,-3.056],[6.175,0],[0,0]],"o":[[0,0],[0,-3.056],[0,0],[6.754,-0.193],[0.212,3.183],[0,0],[-5.017,-0.772]],"v":[[-17.171,0.002],[-17.171,0.002],[-12.447,-5.114],[7.044,-5.307],[17.059,0.002],[8.781,5.5],[-12.255,5.114]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.097999999102,0.097999999102,0.097999999102,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[86.802,72.232],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 8","np":2,"cix":2,"bm":0,"ix":8,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.984,-0.024],[-3.859,-1.158],[0.193,-3.667],[0,-2.315],[3.473,0.192],[4.053,0.193],[1.363,-0.077],[0,2.702],[0,3.088],[-0.772,1.544],[-2.122,-0.192]],"o":[[7.719,0.192],[2.692,0.807],[-0.193,3.667],[0,2.315],[-3.474,-0.194],[-4.052,-0.194],[-3.473,0.193],[0,-2.702],[0,-2.538],[0.772,-1.544],[2.123,0.194]],"v":[[-0.29,-11.386],[17.465,-11],[21.132,-5.018],[20.939,8.491],[14.378,11.579],[-2.22,11.965],[-14.571,11.965],[-20.746,8.298],[-21.132,-2.895],[-20.553,-9.65],[-13.027,-11.194]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.231000010173,0.694000004787,0.862999949736,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[21.575,85.55],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 9","np":2,"cix":2,"bm":0,"ix":9,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":48,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Layer 6/assets.ai","cl":"ai","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[80.695,63.079,0],"ix":2,"l":2},"a":{"a":0,"k":[81.195,60.079,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[38.851,0],[4.795,0.255],[6.092,7.728],[-1.298,7.025],[-16.907,0.626],[-8.54,-0.016],[-12.188,0.975],[0.922,14.823],[10.157,-0.309],[0.476,-0.019],[0.1,2.557],[-2.555,0.099],[-15.341,0.467],[-1.189,-19.11],[18.116,-1.45],[13.515,0.026],[6.821,-0.252],[1.921,-10.403],[-2.924,-3.708],[-7.736,-0.411],[-0.894,0.052],[-0.149,-2.554],[2.555,-0.147]],"o":[[-6.697,0],[-10.526,-0.558],[-4.58,-5.81],[3.077,-16.664],[7.001,-0.26],[13.331,0.028],[11.537,-0.923],[-1.109,-17.821],[-15.303,0.467],[-2.531,0.091],[-0.099,-2.556],[0.476,-0.018],[19.564,-0.61],[1.191,19.138],[-12.567,1.005],[-8.444,-0.018],[-14.132,0.523],[-0.811,4.389],[4.375,5.55],[32.095,1.694],[2.564,-0.168],[0.148,2.553],[-3.134,0.183]],"v":[[-29.451,59.536],[-46.904,59.173],[-74.259,45.534],[-79.277,25.914],[-44.788,-3.925],[-21.183,-4.152],[18.118,-5.072],[44.565,-28.785],[20.945,-49.668],[-42.122,-47.353],[-46.93,-51.802],[-42.481,-56.609],[20.663,-58.926],[53.809,-29.36],[18.857,4.162],[-21.202,5.112],[-44.446,5.331],[-70.167,27.597],[-66.984,39.799],[-46.413,49.924],[75.534,46.447],[80.427,50.803],[76.071,55.694]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.078431372549,0.380392156863,0.372549019608,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[80.825,59.786],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":48,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"Layer 4/assets.ai 2","cl":"ai","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[208.047,108.796,0],"ix":2,"l":2},"a":{"a":0,"k":[88.047,78.796,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-35.895,0],[-6.947,-55.579],[45.157,5.789],[-12.737,37.052]],"o":[[39.385,0],[6.948,55.579],[-45.158,-5.79],[12.737,-37.052]],"v":[[-2.895,-81.052],[81.631,-1.158],[-13.316,75.263],[-75.842,-20.842]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.874509803922,0.921568627451,0.690196078431,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[93.46,81.302],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 10","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":48,"st":0,"ct":1,"bm":0}]}],"layers":[{"ddd":0,"ind":1,"ty":0,"nm":"Main_2","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[103.5,60.5,0],"ix":2,"l":2},"a":{"a":0,"k":[158,94.5,0],"ix":1,"l":2},"s":{"a":0,"k":[66,66,100],"ix":6,"l":2}},"ao":0,"w":316,"h":189,"ip":0,"op":48,"st":0,"bm":0}],"markers":[]}
''';

    // Content for WebSocket
    final websocketServiceContent = '''
import 'dart:async';
import 'package:flutter/material.dart';
import 'package:shared_preferences/shared_preferences.dart';
import 'package:web_socket_channel/web_socket_channel.dart';
import 'package:web_socket_channel/status.dart' as status;

class WebSocketService {
  WebSocketChannel? _channel;
  final StreamController<dynamic> _streamController = StreamController.broadcast();
  static final WebSocketService _instance = WebSocketService._internal();
  final ValueNotifier<bool> connectionStatus = ValueNotifier<bool>(false);

  factory WebSocketService() => _instance;

  Timer? _reconnectTimer;
  bool _isConnected = false;
  bool get isConnected => _isConnected;
  bool _isManuallyDisconnected = false;

  WebSocketService._internal();

  // Connect to WebSocket
  Future<void> connect() async {
    if (_isConnected) return; // Prevent duplicate connections

    SharedPreferences prefs = await SharedPreferences.getInstance();
    String? url = prefs.getString('ws');

    if (url != null && url.isNotEmpty) {
      try {
        _channel = WebSocketChannel.connect(Uri.parse('ws://\$url'));
        _isManuallyDisconnected = false;
        await _channel!.ready.then((_) {
          _isConnected = true;
          connectionStatus.value = true;
          debugPrint("WebSocket connected");
        });

        _channel!.stream.listen(
          (message) {
            _streamController.add(message);
          },
          onDone: _handleDisconnect,
          onError: (error) {
            _handleDisconnect();
            debugPrint("WebSocket error");
          },
        );
      } catch (e) {
        debugPrint("Error connecting to WebSocket:");
        _reconnectWebSocket();
      }
    } else {
      throw Exception("WebSocket URL is not set in SharedPreferences");
    }
  }

  // Handle WebSocket disconnection
  void _handleDisconnect() {
    _isConnected = false;
    connectionStatus.value = false;
    if (!_isManuallyDisconnected) {
      debugPrint("WebSocket disconnected, attempting to reconnect...");
      _reconnectWebSocket();
    }
  }

  // Reconnect WebSocket
  void _reconnectWebSocket() {
    if (_isConnected || _isManuallyDisconnected) {
      _reconnectTimer?.cancel();
      _reconnectTimer = null;
      return;
    }

    const reconnectInterval = Duration(seconds: 5);
    _reconnectTimer?.cancel();
    _reconnectTimer = Timer.periodic(reconnectInterval, (timer) async {
      if (_isConnected) {
        timer.cancel();
        return;
      }
      debugPrint("Attempting to reconnect...");
      try {
        await connect();
      } catch (e) {
        debugPrint('Error during reconnection attempt');
      }
    });
  }

  // Send data to WebSocket
  void send(String message) {
    if (_channel != null) {
      try {
        _channel!.sink.add(message);
      } catch (e) {
        debugPrint("Error sending message");
      }
    } else {
      throw Exception("WebSocket is not connected");
    }
  }

  // Disconnect WebSocket manually
  void disconnect() {
    _isManuallyDisconnected = true;
    _isConnected = false;
    _reconnectTimer?.cancel();
    _reconnectTimer = null;
    _channel?.sink.close(status.normalClosure);
    _channel = null;
    debugPrint("WebSocket manually disconnected");
  }

  // Listen to WebSocket messages
  Stream<dynamic> get messages => _streamController.stream;

  // Dispose resources
  void dispose() {
    _streamController.close();
    disconnect();
  }
}
    ''';

    // Content for Socket.IO
    final socketIoClientContent = '''
import 'dart:async';
import 'package:flutter/material.dart';
import 'package:shared_preferences/shared_preferences.dart';
import 'package:socket_io_client/socket_io_client.dart' as IO;

class SocketIOService {
  IO.Socket? _socket;
  final StreamController<dynamic> _streamController = StreamController.broadcast();
  static final SocketIOService _instance = SocketIOService._internal();
  final ValueNotifier<bool> connectionStatus = ValueNotifier<bool>(false);

  factory SocketIOService() => _instance;

  bool _isConnected = false;
  bool get isConnected => _isConnected;
  bool _isManuallyDisconnected = false;

  SocketIOService._internal();

  // Connect to Socket.IO
  Future<void> connect() async {
    if (_isConnected) return; // Prevent duplicate connections

    SharedPreferences prefs = await SharedPreferences.getInstance();
    String? url = prefs.getString('ws');
    debugPrint("Socket.IO ip: \$url");

    if (url != null && url.isNotEmpty) {
      try {
        _socket = IO.io(
            'http://\$url',
            IO.OptionBuilder()
                .setTransports(['websocket'])
                .enableAutoConnect()
                .build());

        _isManuallyDisconnected = false;

        _socket!.onConnect((_) {
          _isConnected = true;
          connectionStatus.value = true;
          debugPrint("Socket.IO connected");
        });

        _socket!.onDisconnect((_) {
          _handleDisconnect();
        });

        _socket!.onError((error) {
          debugPrint("Socket.IO error: \$error");
          _handleDisconnect();
        });

        _socket!.on("image-added", (data) {
          print("clicked \$data");
          _streamController.add(data);
        });
      } catch (e) {
        debugPrint("Error connecting to Socket.IO: \$e");
      }
    } else {
      throw Exception("Socket.IO URL is not set in SharedPreferences");
    }
  }

  // Handle Socket.IO disconnection
  void _handleDisconnect() {
    _isConnected = false;
    connectionStatus.value = false;
    if (!_isManuallyDisconnected) {
      debugPrint("Socket.IO disconnected.");
    }
  }

  // Send data to Socket.IO
  void send(String message) {
    if (_socket != null && _socket!.connected) {
      try {
        _socket!.emit('publish', message);
      } catch (e) {
        debugPrint("Error sending message: \$e");
      }
    } else {
      throw Exception("Socket.IO is not connected");
    }
  }

  // Disconnect Socket.IO manually
  void disconnect() {
    _isManuallyDisconnected = true;
    _isConnected = false;
    _socket?.disconnect();
    _socket = null;
    debugPrint("Socket.IO manually disconnected");
  }

  // Listen to Socket.IO messages
  Stream<dynamic> get messages => _streamController.stream;

  // Dispose resources
  void dispose() {
    _streamController.close();
    disconnect();
  }
}
    ''';

    // Content for urls_page.dart
    final urlsPageContent = '''
import 'package:flutter/cupertino.dart';
import 'package:flutter/material.dart';
import 'package:lottie/lottie.dart';
import 'package:shared_preferences/shared_preferences.dart';
import 'package:websockettemplate/websocket_service.dart';
import 'custom_button.dart';

class UrlsPage extends StatefulWidget {
  final WebSocketService webSocketService;
  const UrlsPage({Key? key, required this.webSocketService}) : super(key: key);

  @override
  State<UrlsPage> createState() => _UrlsPageState();
}

class _UrlsPageState extends State<UrlsPage> with TickerProviderStateMixin {
  final TextEditingController _wsTextController = TextEditingController();
  late AnimationController _controller;
  String _ws = "";
  bool _connectionStatus = false;
  bool _inputStatus = false;

  @override
  void initState() {
    _controller = AnimationController(vsync: this);
    super.initState();
    _loadStoredUrls();
  }

  Future<void> _loadStoredUrls() async {
    final prefs = await SharedPreferences.getInstance();
    setState(() {
      _ws = prefs.getString('ws') ?? "";
      _wsTextController.text = _ws;
    });
    if (_wsTextController.text.isNotEmpty) {
      setState(() {
        _inputStatus = true;
      });
    }
  }

  Future<void> _storeUrls() async {
    final prefs = await SharedPreferences.getInstance();
    await prefs.setString('ws', _ws);
  }

  Future<void> _handleSubmit() async {
    if (_ws.isNotEmpty) {
      try {
        setState(() => _connectionStatus = true);
        await _storeUrls();
        await widget.webSocketService.connect();
      } catch (e) {
        debugPrint("Error connecting to the server. Please try again.");
        _showErrorDialog("Connection Error", "Failed to connect to the server. Please try again.");
      }
    } else {
      _showErrorDialog("Invalid Input", "Please enter a valid WebSocket URL");
    }
  }

  void _showErrorDialog(String title, String message) {
    showCupertinoDialog(
      context: context,
      builder: (BuildContext context) {
        return CupertinoAlertDialog(
          title: Text(title),
          content: Text(message),
          actions: [
            CupertinoDialogAction(
              child: const Text("OK"),
              onPressed: () => Navigator.of(context).pop(),
            ),
          ],
        );
      },
    );
  }

  @override
  Widget build(BuildContext context) {
    final size = MediaQuery.of(context).size;
    return Scaffold(
      resizeToAvoidBottomInset: false,
      body: Container(
        width: size.width,
        height: size.height,
        decoration: BoxDecoration(
          gradient: LinearGradient(
            begin: Alignment.topLeft,
            end: Alignment.bottomRight,
            colors: [
              Colors.blue.shade50,
              Colors.blue.shade100,
              Colors.blue.shade200,
            ],
            stops: const [0.0, 0.5, 1.0],
          ),
        ),
        child: SafeArea(
          child: Padding(
            padding: const EdgeInsets.symmetric(horizontal: 24.0),
            child: Column(
              children: [
                const Spacer(flex: 2),
                const Text(
                  'Welcome',
                  style: TextStyle(
                    fontSize: 40,
                    fontWeight: FontWeight.bold,
                    color: Colors.black87,
                    letterSpacing: 1.2,
                  ),
                ),
                const SizedBox(height: 12),
                Text(
                  'Connect to your WebSocket server',
                  style: TextStyle(
                    fontSize: 16,
                    color: Colors.grey.shade700,
                    letterSpacing: 0.5,
                  ),
                ),
                const Spacer(flex: 2),
                Container(
                  decoration: BoxDecoration(
                    borderRadius: BorderRadius.circular(16),
                    boxShadow: [
                      BoxShadow(
                        color: Colors.black.withOpacity(0.1),
                        blurRadius: 10,
                        offset: const Offset(0, 4),
                      ),
                    ],
                  ),
                  child: TextField(
                    controller: _wsTextController,
                    textInputAction: TextInputAction.done,
                    style: const TextStyle(
                      color: Colors.black87,
                      fontWeight: FontWeight.w500,
                      fontSize: 16,
                    ),
                    onChanged: (value) {
                      setState(() {
                        _ws = value;
                        _inputStatus = value.length == 18;
                      });
                    },
                    decoration: InputDecoration(
                      hintText: "192.168.1.8:8080",
                      hintStyle: TextStyle(color: Colors.grey.shade400),
                      filled: true,
                      fillColor: Colors.white,
                      border: OutlineInputBorder(
                        borderRadius: BorderRadius.circular(16),
                        borderSide: BorderSide.none,
                      ),
                      prefixIcon: Icon(
                        Icons.link_rounded,
                        color: Colors.blue.shade400,
                        size: 24,
                      ),
                      contentPadding: const EdgeInsets.symmetric(
                        vertical: 16,
                        horizontal: 16,
                      ),
                    ),
                  ),
                ),
                const Spacer(),
                ValueListenableBuilder<bool>(
                  valueListenable: widget.webSocketService.connectionStatus,
                  builder: (context, isConnected, _) {
                    return AnimatedContainer(
                      duration: const Duration(milliseconds: 300),
                      height: 160,
                      child: _connectionStatus
                          ? Column(
                              mainAxisAlignment: MainAxisAlignment.center,
                              children: [
                                Lottie.asset(
                                  isConnected
                                      ? 'assets/connected.json'
                                      : 'assets/connecting.json',
                                  height: 100,
                                  controller: isConnected ? _controller : null,
                                  onLoaded: isConnected
                                      ? (composition) {
                                          _controller.duration = composition.duration;
                                          _controller.forward().whenComplete(() => Navigator.pushNamed(context, '/home'));
                                        }
                                      : null,
                                ),
                                const SizedBox(height: 8),
                                Text(
                                  isConnected
                                      ? "Connected successfully!"
                                      : "Connecting to the server...",
                                  style: TextStyle(
                                    color: Colors.grey.shade800,
                                    fontSize: 16,
                                    fontWeight: FontWeight.w500,
                                  ),
                                ),
                              ],
                            )
                          : Center(
                              child: Text(
                                _inputStatus
                                    ? "IP looks good! Click connect to proceed"
                                    : "Enter the server IP address to connect",
                                style: TextStyle(
                                  color: Colors.grey.shade700,
                                  fontSize: 15,
                                  fontWeight: FontWeight.w500,
                                ),
                                textAlign: TextAlign.center,
                              ),
                            ),
                    );
                  },
                ),
                const Spacer(),
                CustomButton(
                  text: "Connect",
                  onPressed: _handleSubmit,
                  isEnabled: true,
                ),
                const Spacer(),
              ],
            ),
          ),
        ),
      ),
    );
  }

  @override
  void dispose() {
    _controller.dispose();
    _wsTextController.dispose();
    super.dispose();
  }
}
    ''';

    // Content for custom_button.dart
    final customButtonContent = '''
import 'package:flutter/material.dart';

class CustomButton extends StatelessWidget {
  final String text;
  final VoidCallback? onPressed;
  final bool isEnabled;
  final IconData? icon;

  const CustomButton({
    Key? key,
    required this.text,
    required this.onPressed,
    this.isEnabled = true,
    this.icon = Icons.arrow_forward,
  }) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return GestureDetector(
      onTap: isEnabled ? onPressed : null,
      child: Container(
        padding: const EdgeInsets.symmetric(vertical: 16, horizontal: 32),
        decoration: BoxDecoration(
          gradient: LinearGradient(
            colors: isEnabled
                ? [Colors.blue.shade400, Colors.blue.shade700]
                : [Colors.grey.shade400, Colors.grey.shade600],
            begin: Alignment.topLeft,
            end: Alignment.bottomRight,
          ),
          borderRadius: BorderRadius.circular(30),
          boxShadow: [
            BoxShadow(
              color: isEnabled ? Colors.blue.shade200 : Colors.grey.shade300,
              blurRadius: 10,
              offset: const Offset(0, 5),
            ),
          ],
        ),
        child: Row(
          mainAxisSize: MainAxisSize.min,
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            Text(
              text,
              style: const TextStyle(
                color: Colors.white,
                fontSize: 18,
                fontWeight: FontWeight.bold,
                letterSpacing: 1.5,
              ),
            ),
            const SizedBox(width: 8),
            Icon(
              icon,
              color: Colors.white,
              size: 24,
            ),
          ],
        ),
      ),
    );
  }
}
    ''';

    // Write the files based on the user's choice
    if (choice == '1') {
      File('lib/socketconfig/websocket_service.dart')
          .writeAsStringSync(websocketServiceContent);

      // flutter pub add web_socket_channel
      // Run the Flutter package command
      Process.runSync('flutter', ['pub', 'add', 'web_socket_channel'],
          runInShell: true);
      debugPrint('Generated WebSocket setup files.');
    } else if (choice == '2') {
      File('lib/socketconfig/websocket_service.dart')
          .writeAsStringSync(socketIoClientContent);
      // flutter pub add socket_io_client
      // Run the Flutter package command
      Process.runSync('flutter', ['pub', 'add', 'socket_io_client'],
          runInShell: true);
      debugPrint('Generated Socket.IO setup files.');
    }

    // Write common files
    File('lib/socketconfig/urls_page.dart').writeAsStringSync(urlsPageContent);
    File('lib/socketconfig/custom_button.dart')
        .writeAsStringSync(customButtonContent);

    // Write JSON files to the assets directory
    File('assets/connected.json').writeAsStringSync(connectedJsonContent);
    File('assets/connecting.json').writeAsStringSync(connectingJsonContent);
    debugPrint('Generated JSON files in the assets directory.');

    debugPrint('Generated socketconfig files.');
  } else {
    debugPrint(
        'Invalid choice. Please run the script again and select 1 or 2.');
  }
}
